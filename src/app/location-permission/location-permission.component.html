<div class="ios-layout">
  <!-- Hero Section -->
  <div class="hero-content">
    <div class="pin-icon-container">
      <svg width="60" height="60" viewBox="0 0 24 24" fill="none" class="location-pin">
        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z" fill="#ff6b35" />
        <circle cx="12" cy="9" r="2.5" fill="white" />
      </svg>
      <div class="pin-shadow"></div>
    </div>

    <h1 class="ios-title">Find Street Food<br>Near You</h1>
    <p class="ios-subtitle">We need your location to show you the best street food options around you.</p>

    <div class="features-list">
      <div class="feature-row">
        <div class="icon-circle pink-bg">
          <span class="emoji">ðŸŽ¯</span>
        </div>
        <span class="feature-text">Discover food stalls nearby</span>
      </div>

      <div class="feature-row">
        <div class="icon-circle yellow-bg">
          <span class="emoji">ðŸ’°</span>
        </div>
        <span class="feature-text">See accurate prices & distance</span>
      </div>
    </div>
  </div>

  <!-- Bottom Action Area -->
  <div class="action-area">
    <button class="primary-btn" (click)="allow()">Allow Location Access</button>
    <button class="secondary-btn" (click)="manual()">Select Location Manually</button>
    <div class="privacy-note">
      <div class="privacy-line"></div>
      <p>Your location data is secure and only used to show nearby food options.</p>
    </div>
  </div>

  <!-- iOS Sheet Modal -->
  <div class="modal-backdrop" *ngIf="showLocationModal" (click)="closeLocationModal()">
    <div class="ios-sheet" (click)="$event.stopPropagation()">
      <div class="drag-handle"></div>

      <div class="sheet-header">
        <h2>Select Location</h2>
        <button class="close-icon-btn" (click)="closeLocationModal()">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>

      <div class="search-container">
        <div class="search-bar">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#8E8E93" stroke-width="2">
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
          </svg>
          <input type="text" [(ngModel)]="searchQuery" placeholder="Search area or pincode" #searchInput>
        </div>
      </div>

      <div class="locations-scroll">
        <div class="location-row" *ngFor="let loc of filteredLocations" (click)="selectLocation(loc)">
          <div class="loc-icon-bg">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="#ff6b35">
              <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z" />
              <circle cx="12" cy="9" r="2.5" fill="white" />
            </svg>
          </div>
          <div class="loc-details">
            <span class="loc-name">{{loc.name}}</span>
            <span class="loc-sub">{{loc.pincode}}</span>
          </div>
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#C7C7CC" stroke-width="2">
            <polyline points="9 18 15 12 9 6"></polyline>
          </svg>
        </div>

        <div class="empty-state" *ngIf="filteredLocations.length === 0">
          <p>No locations found</p>
        </div>
      </div>
    </div>
  </div>
</div>