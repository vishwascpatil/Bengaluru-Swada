<div class="favorites-container">
    <div class="hero-header" *ngIf="showHeader">
        <h1>Favorites</h1>
        <p class="subtitle">Your curated collection of tastes</p>
    </div>

    <!-- Loading State -->
    <div class="loading-state" *ngIf="isLoading">
        <div class="spinner"></div>
        <p>Loading favorites...</p>
    </div>

    <!-- Empty State -->
    <div class="empty-state" *ngIf="!isLoading && bookmarkedReels.length === 0">
        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"
                stroke="currentColor" stroke-width="2" fill="none" />
        </svg>
        <h2>No Favorites Yet</h2>
        <p>Bookmark your favorite reels to see them here</p>
    </div>

    <!-- Results Grid -->
    <div class="results-grid" *ngIf="!isLoading && bookmarkedReels.length > 0">
        <div class="food-card" *ngFor="let reel of bookmarkedReels" (click)="playReel(reel)">
            <div class="card-image">
                <video [src]="reel.videoUrl" muted playsinline preload="metadata" #videoThumb
                    [style.opacity]="loadedThumbs.has(reel.id!) ? 1 : 0" (loadeddata)="onThumbLoad(reel.id!)"
                    (loadedmetadata)="videoThumb.currentTime=0.1"></video>
                <div class="distance-badge">{{reel.distanceStr}}</div>
            </div>
            <div class="card-details">
                <div class="header-row">
                    <h3 class="dish-name">{{reel.title}}</h3>
                </div>
                <p class="vendor-name">{{reel.vendor}}</p>
                <div class="price-row">
                    <span class="price">â‚¹{{reel.price}}</span>
                </div>
            </div>
        </div>
    </div>
</div>